---
title: Kafka性能指标
description: 
published: true
date: 2022-11-30T02:09:27.251Z
tags: monitor
editor: markdown
dateCreated: 2022-11-30T02:09:27.251Z
---

# Kafka性能指标

## 集群指标

| 指标别名             | 指标含义解释                           | 单位    |
| :------------------- | :------------------------------------- | :------ |
| 版本                 |                                        |         |
| Partitions总数       | 集群中所有节点Partition数之和          | 个      |
| 未复制分区总数       | 集群中所有节点未复制分区数之和         | 个      |
| 离线分区总数         | 集群中所有节点离线分区数之和           | 个      |
| Controller存活数     | 集群中Controller存活的数量             | 个      |
| 失败请求（生产者）   | 集群中所有节点生产者失败请求的速率之和 | 次/s    |
| 失败请求（消费者）   | 集群中所有节点消费者失败请求的速率     | 次/s    |
| 生产者流量           | 集群中所有节点生产者流量之和           | Bytes/s |
| 消费者流量           | 集群中所有节点消费者流量之和           | Bytes/s |
| 生产者QPS            | 集群中所有节点生产者QPS之和            | 次/s    |
| 消费者QPS            | 集群中所有节点消费者QPS之和            | 次/s    |
| 存活节点数           | 集群中存活的节点数量                   | 个      |
| 每秒流入消息数       | 集群中所有节点流入消息数之和           | 个/s    |
| 最大CPU利用率        | 集群中所有节点CPU利用率最大值          |         |
| 最大内存利用率       | 集群中所有节点内存利用率最大值         |         |
| 最大Heap区利用率     | 集群中所有节点堆内存利用率最大值       |         |
| 最大Non-Heap区利用率 | 集群中所有节点非堆内存利用率最大值     |         |
| 最大Minor GC次数     | 集群中所有节点每分钟Minor GC次数最大值 |         |
| 最大Major GC次数     | 集群中所有节点每分钟Major GC次数最大值 |         |
| 最大Minor GC时间     | 集群中所有节点每分钟Minor GC时间       |         |
| 最大Major GC时间     | 集群中所有节点每分钟Major GC时间       |         |

## Broker指标

| 指标别名                     | 指标含义解释                                                 | 单位    | 是否告警指标 | 默认告警策略 |
| :--------------------------- | :----------------------------------------------------------- | :------ | :----------- | :----------- |
| CPU利用率                    |                                                              | %       |              |              |
| 内存利用率                   |                                                              | %       |              |              |
| 内存使用量                   |                                                              | Bytes   |              |              |
| 磁盘吞吐（Read）             |                                                              | Bytes/s |              |              |
| 磁盘吞吐（Write）            |                                                              | Bytes/s |              |              |
| 生产者流量                   |                                                              | Bytes   |              |              |
| 消费者流量                   |                                                              | Bytes   |              |              |
| 生产者QPS                    |                                                              |         |              |              |
| 消费者QPS                    |                                                              |         |              |              |
| 是否是Controller             | 0：不是，1：是                                               |         |              |              |
| Follower落后Leader最大消息量 |                                                              | 个      |              |              |
| Partition总数                | 该节点分区总数                                               | 个      |              |              |
| Leader分区总数               |                                                              | 个      |              |              |
| 未复制分区总数               |                                                              | 个      |              |              |
| ISR扩大速率                  |                                                              | 个/s    |              |              |
| ISR收缩速率                  |                                                              | 个/s    |              |              |
| 离线分区总数                 |                                                              | 个      |              |              |
| Broker拒绝的消息             |                                                              | Byte/s  |              |              |
| 生产者失败请求               |                                                              | 次/s    |              |              |
| 消费者失败请求               |                                                              | 次/s    |              |              |
| 生产者请求响应时间分位值     | request="Produce"                                            | ms      |              |              |
| 消费者请求响应时间分位值     | request="FetchConsumer"                                      | ms      |              |              |
| fetch请求速率                |                                                              |         |              |              |
| 失败的fetch请求数            |                                                              |         |              |              |
| zookeeper 连接断开速率       | 客户端已断开与服务器的连接，并尝试重新连接。会话不一定过期。 |         |              |              |
| zookeeper 会话过期速率       |                                                              |         |              |              |
| broker请求zk响应时间分位值   |                                                              |         |              |              |

## Topic指标

| 指标别名   | 指标含义解释 | 单位 | 是否告警指标 | 默认告警策略 |
| :--------- | :----------- | :--- | :----------- | :----------- |
| 生产者流量 |              |      |              |              |
| 消费者流量 |              |      |              |              |
| 生产者QPS  |              |      |              |              |
| 消费者QPS  |              |      |              |              |
| Topic大小  |              |      |              |              |

## ConsumperGroup指标

| 指标别名       | 指标含义解释 | 单位 | 是否告警指标 | 默认告警策略 |
| :------------- | :----------- | :--- | :----------- | :----------- |
| 生产者QPS      |              |      |              |              |
| 消费者QPS      |              |      |              |              |
| Current-Offset |              |      |              |              |
| Log-End-Offset |              |      |              |              |
| Lag            |              |      |              |              |
| 消费组状态     |              |      |              |              |

